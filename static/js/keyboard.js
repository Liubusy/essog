var VKI_attach,VKI_close;
(function(){function p(c){"TD"==c.nodeName&&(c.click||(c.click=function(){var a=this.ownerDocument.createEvent("MouseEvents");a.initMouseEvent("click",!0,!0,this.ownerDocument.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);this.dispatchEvent(a)}),c.VKI_clickless=0,f(c,"dblclick",function(){return!1},!1));f(c,"mouseover",function(){if("TD"==this.nodeName&&a.VKI_clickless){var c=this;clearTimeout(this.VKI_clickless);this.VKI_clickless=setTimeout(function(){c.click()},a.VKI_clickless)}a.VKI_isIE&&(this.className+=
" hover")},!1);f(c,"mouseout",function(){"TD"==this.nodeName&&clearTimeout(this.VKI_clickless);a.VKI_isIE&&(this.className=this.className.replace(/ ?(hover|pressed) ?/g,""))},!1);f(c,"mousedown",function(){"TD"==this.nodeName&&clearTimeout(this.VKI_clickless);a.VKI_isIE&&(this.className+=" pressed")},!1);f(c,"mouseup",function(){"TD"==this.nodeName&&clearTimeout(this.VKI_clickless);a.VKI_isIE&&(this.className=this.className.replace(/ ?pressed ?/g,""))},!1)}function y(){var c=!1,d="\u00a0";if("small"!=
this.firstChild.nodeName.toLowerCase()){if("\u00a0"==(d=this.firstChild.nodeValue))return!1}else d=this.firstChild.getAttribute("char");a.VKI_deadkeysOn.checked&&a.VKI_dead&&(a.VKI_dead!=d?" "!=d?a.VKI_deadkey[a.VKI_dead][d]&&(a.VKI_insert(a.VKI_deadkey[a.VKI_dead][d]),c=!0):(a.VKI_insert(a.VKI_dead),c=!0):c=!0);a.VKI_dead=!1;c||(a.VKI_deadkeysOn.checked&&a.VKI_deadkey[d]?(a.VKI_dead=d,this.className+=" dead",a.VKI_shift&&a.VKI_modify("Shift"),a.VKI_altgr&&a.VKI_modify("AltGr")):a.VKI_insert(d));
a.VKI_modify("");return!1}function f(a,d,q,b){a.addEventListener?a.addEventListener(d,function(d){q.call(a,d)},b):a.attachEvent&&a.attachEvent("on"+d,function(){q.call(a)})}function w(a){for(var d=curtop=0,q=a;(q=q.parentNode)&&q!=document.body;)d-=q.scrollLeft||0,curtop-=q.scrollTop||0;do d+=a.offsetLeft,curtop+=a.offsetTop;while(a=a.offsetParent);return[d,curtop]}function B(){var a=document.getElementsByTagName("html")[0];return a.scrollTop&&document.documentElement.scrollTop?[a.scrollLeft,a.scrollTop]:
a.scrollTop||document.documentElement.scrollTop?[a.scrollLeft+document.documentElement.scrollLeft,a.scrollTop+document.documentElement.scrollTop]:document.body.scrollTop?[document.body.scrollLeft,document.body.scrollTop]:[0,0]}var a=this;this.VKI_version="1.49";this.VKI_dead=this.VKI_altgr=this.VKI_altgrlock=this.VKI_shift=this.VKI_shiftlock=this.VKI_target=this.VKI_showVersion=!1;this.VKI_deadBox=!0;this.VKI_deadkeysOn=!1;this.VKI_numberPad=!0;this.VKI_numberPadOn=!1;this.VKI_kts=this.VKI_kt="Fran\u00e7ais";
this.VKI_langAdapt=!1;this.VKI_size=4;this.VKI_sizeAdj=!0;this.VKI_clearPasswords=!1;this.VKI_imageURI="static/img/cla.png";this.VKI_activeTab=this.VKI_clickless=0;this.VKI_enterSubmit=!0;this.VKI_keyCenter=3;this.VKI_isIElt8=this.VKI_isIE6=this.VKI_isIE=!1;this.VKI_isWebKit=/KHTML/.test(navigator.userAgent);this.VKI_isOpera=/Opera/.test(navigator.userAgent);this.VKI_isMoz=!this.VKI_isWebKit&&"Gecko"==navigator.product;this.VKI_i18n={"00":"Afficher le pav\ufffd numerique","01":"Afficher le clavier visuel",
"02":"Changer la Langue","03":"Dead keys","04":"On","05":"Off","06":"Fermer le Clavier","07":"Effacer","08":"Effacer ce champ","09":"Version",10:"Reduire la taille du clavier",11:"Augmenter la taille du clavier"};this.VKI_layout={};this.VKI_layout["\u0627\u0644\u0639\u0631\u0628\u064a\u0629"]={name:"Arabic",keys:[[["\u0630","\u0651 "],["1","!","\u00a1","\u00b9"],["2","@","\u00b2"],["3","#","\u00b3"],["4","$","\u00a4","\u00a3"],["5","%","\u20ac"],["6","^","\u00bc"],["7","&","\u00bd"],["8","*","\u00be"],
["9","(","\u2018"],["0",")","\u2019"],["-","_","\u00a5"],["=","+","\u00d7","\u00f7"],["Bksp","Bksp"]],[["Tab","Tab"],["\u0636","\u064e"],["\u0635","\u064b"],["\u062b","\u064f"],["\u0642","\u064c"],["\u0641","\u0644"],["\u063a","\u0625"],["\u0639","\u2018"],["\u0647","\u00f7"],["\u062e","\u00d7"],["\u062d","\u061b"],["\u062c","<"],["\u062f",">"],["\\","|"]],[["Caps","Caps"],["\u0634","\u0650"],["\u0633","\u064d"],["\u064a","]"],["\u0628","["],["\u0644","\u0644"],["\u0627","\u0623"],["\u062a","\u0640"],
["\u0646","\u060c"],["\u0645","/"],["\u0643",":"],["\u0637",'"'],["Enter","Enter"]],[["Shift","Shift"],["\u0626","~"],["\u0621","\u0652"],["\u0624","}"],["\u0631","{"],["\u0644","\u0644"],["\u0649","\u0622"],["\u0629","\u2019"],["\u0648",","],["\u0632","."],["\u0638","\u061f"],["Shift","Shift"]],[[" "," "," "," "],["Alt","Alt"]]],lang:["ar"]};this.VKI_layout["Fran\u00e7ais"]={name:"French",keys:[[["\u00b2","\u00b3"],["&","1"],["\u00e9","2","~"],['"',"3","#"],["'","4","{"],["(","5","["],["-","6","|"],
["\u00e8","7","`"],["_","8","\\"],["\u00e7","9","^"],["\u00e0","0","@"],[")","\u00b0","]"],["=","+","}"],["Bksp","Bksp"]],[["Tab","Tab"],["a","A"],["z","Z"],["e","E","\u20ac"],["r","R"],["t","T"],["y","Y"],["u","U"],["i","I"],["o","O"],["p","P"],["^","\u00a8"],["$","\u00a3","\u00a4"],["*","\u03bc"]],[["Caps","Caps"],["q","Q"],["s","S"],["d","D"],["f","F"],["g","G"],["h","H"],["j","J"],["k","K"],["l","L"],["m","M"],["\u00f9","%"],["Enter","Enter"]],[["Shift","Shift"],["<",">"],["w","W"],["x","X"],
["c","C"],["v","V"],["b","B"],["n","N"],[",","?"],[";","."],[":","/"],["!","\u00a7"],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],lang:["fr"]};this.VKI_layout["Kabyle (Latin)"]={name:"Tam\u03b5emmerit",keys:[[["\u0263","\u0194"],["\u1e93","\u1e92"],["\u1e6d","\u1e6c","~"],['"',"%","#"],["'","{"],["(","["],["-","|"],["\u1e63","\u1e62","`"],["_","\\"],["\u010d","\u010c","^"],["\u01e7","\u01e6","@"],[")","\u00b0","]"],["=","+","}"],["Bksp","Bksp"]],[["Tab","Tab"],["a","A"],["z","Z"],["e",
"E","\u20ac"],["r","R"],["t","T"],["y","Y"],["u","U"],["i","I"],["o","O"],["p","P"],["\u1e5b","\u1e5a","\u00a8"],["\u025b","\u0190"],["*","\u03bc"]],[["Caps","Caps"],["q","Q"],["s","S"],["d","D"],["f","F"],["g","G"],["h","H"],["j","J"],["k","K"],["l","L"],["m","M"],["\u1e0d","\u1e0c","%"],["Enter","Enter"]],[["Shift","Shift"],["\u1e25","\u1e24"],["w","W"],["x","X"],["c","C"],["v","V"],["b","B"],["n","N"],[",","?"],[";","."],[":","/"],["^","!"],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],
lang:["kb"]};this.VKI_layout.Tifinagh={name:"Amazigh",keys:[[["\u00b2","\u00b3"],["&","1"],["\u2d52","2","~"],['"',"3","#"],["'","4","{"],["(","5","["],["-","6","|"],["\u2d64","7","`"],["_","8","\\"],["\u2014","9","^"],["\u00e0","0","@"],[")","\u00b0","]"],["=","+","}"],["Bksp","Bksp"]],[["Tab","Tab"],["\u2d30"," \u2d36"],["\u2d63","\u2d65"],["\u2d3b","\u2d57","\u20ac"],["\u2d54","\u2d55"],["\u2d5c","\u2d5f"],["\u2d62","\u2d42"],["\u2d53","\u2d4c"],["\u2d49","\u2d58"],["\u2d44","\u2d5d"],["\u2d43",
"\u2d5e","\u00a8"],["\u2d6f","\u2d60"],["$","\u00a3","\u00a4"],["*","\u03bc"]],[["Caps","Caps"],["\u2d47","\u2d48"],["\u2d59","\u2d5a"],["\u2d37","\u2d39"],["\u2d3c","\u2d35"],["\u2d33","\u2d33"],["\u2d40","\u2d41"],["\u2d4a","\u2d4b"],["\u2d3d","\u2d3d \u2d6f"],["\u2d4d","\u2d38"],["\u2d4e","\u2d3a"],["\u2d51","%"],["Enter","Enter"]],[["Shift","Shift"],["<",">"],["\u2d61","\u2d3e"],["\u2d45","\u2d46"],["\u2d5b","\u2d3f"],["\u2d56","\u2d34"],["\u2d31","\u2d32"],["\u2d4f","\u2d50"],[",","?"],[";",
"."],[":","/"],["!","\u00a7"],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],lang:["tf"]};this.VKI_deadkey={};this.VKI_deadkey['"']=this.VKI_deadkey["\u00a8"]=this.VKI_deadkey["\u309b"]={a:"\u00e4",e:"\u00eb",i:"\u00ef",o:"\u00f6",u:"\u00fc",y:"\u00ff","\u03b9":"\u03ca","\u03c5":"\u03cb","\u016b":"\u01d6","\u00fa":"\u01d8","\u01d4":"\u01da","\u00f9":"\u01dc",A:"\u00c4",E:"\u00cb",I:"\u00cf",O:"\u00d6",U:"\u00dc",Y:"\u0178","\u0399":"\u03aa","\u03a5":"\u03ab","\u016a":"\u01d5","\u00da":"\u01d7",
"\u01d3":"\u01d9","\u00d9":"\u01db","\u304b":"\u304c","\u304d":"\u304e","\u304f":"\u3050","\u3051":"\u3052","\u3053":"\u3054","\u305f":"\u3060","\u3061":"\u3062","\u3064":"\u3065","\u3066":"\u3067","\u3068":"\u3069","\u3055":"\u3056","\u3057":"\u3058","\u3059":"\u305a","\u305b":"\u305c","\u305d":"\u305e","\u306f":"\u3070","\u3072":"\u3073","\u3075":"\u3076","\u3078":"\u3079","\u307b":"\u307c","\u30ab":"\u30ac","\u30ad":"\u30ae","\u30af":"\u30b0","\u30b1":"\u30b2","\u30b3":"\u30b4","\u30bf":"\u30c0",
"\u30c1":"\u30c2","\u30c4":"\u30c5","\u30c6":"\u30c7","\u30c8":"\u30c9","\u30b5":"\u30b6","\u30b7":"\u30b8","\u30b9":"\u30ba","\u30bb":"\u30bc","\u30bd":"\u30be","\u30cf":"\u30d0","\u30d2":"\u30d3","\u30d5":"\u30d6","\u30d8":"\u30d9","\u30db":"\u30dc"};this.VKI_deadkey["~"]={a:"\u00e3",l:"\u0142",n:"\u00f1",o:"\u00f5",A:"\u00c3",L:"\u0141",N:"\u00d1",O:"\u00d5"};this.VKI_deadkey["^"]={a:"\u00e2",e:"\u00ea",i:"\u00ee",o:"\u00f4",u:"\u00fb",w:"\u0175",y:"\u0177",A:"\u00c2",E:"\u00ca",I:"\u00ce",O:"\u00d4",
U:"\u00db",W:"\u0174",Y:"\u0176"};this.VKI_deadkey["\u02c7"]={c:"\u010d",d:"\u010f",e:"\u011b",s:"\u0161",l:"\u013e",n:"\u0148",r:"\u0159",t:"\u0165",u:"\u01d4",z:"\u017e","\u00fc":"\u01da",C:"\u010c",D:"\u010e",E:"\u011a",S:"\u0160",L:"\u013d",N:"\u0147",R:"\u0158",T:"\u0164",U:"\u01d3",Z:"\u017d","\u00dc":"\u01d9"};this.VKI_deadkey["\u02d8"]={a:"\u0103",g:"\u011f",A:"\u0102",G:"\u011e"};this.VKI_deadkey["-"]=this.VKI_deadkey["\u00af"]={a:"\u0101",e:"\u0113",i:"\u012b",o:"\u014d",u:"\u016b",y:"\u0233",
"\u00fc":"\u01d6",A:"\u0100",E:"\u0112",I:"\u012a",O:"\u014c",U:"\u016a",Y:"\u0232","\u00dc":"\u01d5"};this.VKI_deadkey["`"]={a:"\u00e0",e:"\u00e8",i:"\u00ec",o:"\u00f2",u:"\u00f9","\u00fc":"\u01dc",A:"\u00c0",E:"\u00c8",I:"\u00cc",O:"\u00d2",U:"\u00d9","\u00dc":"\u01db"};this.VKI_deadkey["'"]=this.VKI_deadkey["\u00b4"]=this.VKI_deadkey["\u0384"]={a:"\u00e1",e:"\u00e9",i:"\u00ed",o:"\u00f3",u:"\u00fa",y:"\u00fd","\u03b1":"\u03ac","\u03b5":"\u03ad","\u03b7":"\u03ae","\u03b9":"\u03af","\u03bf":"\u03cc",
"\u03c5":"\u03cd","\u03c9":"\u03ce","\u00fc":"\u01d8",A:"\u00c1",E:"\u00c9",I:"\u00cd",O:"\u00d3",U:"\u00da",Y:"\u00dd","\u0391":"\u0386","\u0395":"\u0388","\u0397":"\u0389","\u0399":"\u038a","\u039f":"\u038c","\u03a5":"\u038e","\u03a9":"\u038f","\u00dc":"\u01d7"};this.VKI_deadkey["\u02dd"]={o:"\u0151",u:"\u0171",O:"\u0150",U:"\u0170"};this.VKI_deadkey["\u0385"]={"\u03b9":"\u0390","\u03c5":"\u03b0"};this.VKI_deadkey["\u00b0"]=this.VKI_deadkey["\u00ba"]={a:"\u00e5",u:"\u016f",A:"\u00c5",U:"\u016e"};
this.VKI_deadkey["\u02db"]={a:"\u0106",e:"\u0119",i:"\u012f",o:"\u01eb",u:"\u0173",y:"\u0177",A:"\u0105",E:"\u0118",I:"\u012e",O:"\u01ea",U:"\u0172",Y:"\u0176"};this.VKI_deadkey["\u02d9"]={c:"\u010b",e:"\u0117",g:"\u0121",z:"\u017c",C:"\u010a",E:"\u0116",G:"\u0120",Z:"\u017b"};this.VKI_deadkey["\u00b8"]=this.VKI_deadkey["\u201a"]={c:"\u00e7",s:"\u015f",C:"\u00c7",S:"\u015e"};this.VKI_deadkey[","]={s:this.VKI_isIElt8?"\u015f":"\u0219",t:this.VKI_isIElt8?"\u0163":"\u021b",S:this.VKI_isIElt8?"\u015e":
"\u0218",T:this.VKI_isIElt8?"\u0162":"\u021a"};this.VKI_deadkey["\u3002"]={"\u306f":"\u3071","\u3072":"\u3074","\u3075":"\u3077","\u3078":"\u307a","\u307b":"\u307d","\u30cf":"\u30d1","\u30d2":"\u30d4","\u30d5":"\u30d7","\u30d8":"\u30da","\u30db":"\u30dd"};this.VKI_symbol={"\u00a0":"NB\nSP","\u200b":"ZW\nSP","\u200c":"ZW\nNJ","\u200d":"ZW\nJ"};this.VKI_numpad=[[["$"],["\u00a3"],["\u20ac"],["\u00a5"]],[["7"],["8"],["9"],["/"]],[["4"],["5"],["6"],["*"]],[["1"],["2"],["3"],["-"]],[["0"],["."],["="],["+"]]];
VKI_attach=function(c){if(c.getAttribute("VKI_attached"))return!1;if(a.VKI_imageURI){var d=document.createElement("img");d.src=a.VKI_imageURI;d.alt=a.VKI_i18n["01"];d.className="keyboardInputInitiator";d.title=a.VKI_i18n["01"];d.elem=c;d.onclick=function(c){c=c||event;c.stopPropagation?c.stopPropagation():c.cancelBubble=!0;a.VKI_show(this.elem)};c.parentNode.insertBefore(d,"rtl"==c.dir?c:c.nextSibling)}else c.onfocus=function(){a.VKI_target!=this&&(a.VKI_target&&a.VKI_close(),a.VKI_show(this))},c.onclick=
function(){a.VKI_target||a.VKI_show(this)};c.setAttribute("VKI_attached","true");a.VKI_isIE&&(c.onclick=c.onselect=c.onkeyup=function(a){if("keyup"!=(a||event).type||!this.readOnly)this.range=document.selection.createRange()});f(c,"click",function(c){a.VKI_target==this&&(c=c||event,c.stopPropagation?c.stopPropagation():c.cancelBubble=!0);return!1},!1);a.VKI_isMoz&&c.addEventListener("blur",function(){this.setAttribute("_scrollTop",this.scrollTop)},!1)};this.VKI_keyboard=document.createElement("table");
this.VKI_keyboard.id="keyboardInputMaster";this.VKI_keyboard.dir="ltr";this.VKI_keyboard.cellSpacing="0";this.VKI_keyboard.reflow=function(){this.style.width="50px";this.style.width=""};f(this.VKI_keyboard,"click",function(a){a=a||event;a.stopPropagation?a.stopPropagation():a.cancelBubble=!0;return!1},!1);if(!this.VKI_layout[this.VKI_kt])return alert('No keyboard named "'+this.VKI_kt+'"');this.VKI_langCode={};var u=document.createElement("thead"),r=document.createElement("tr"),k=document.createElement("th");
k.colSpan="2";var g=document.createElement("div");g.title=this.VKI_i18n["02"];f(g,"click",function(){var a=this.getElementsByTagName("ol")[0];if(a.style.display)a.style.display="";else{a.style.display="block";for(var d=a.getElementsByTagName("li"),b=0,f=0;b<d.length;b++)VKI_kt==d[b].firstChild.nodeValue?(d[b].className="selected",f=d[b].offsetTop-2*d[b].offsetHeight):d[b].className="";setTimeout(function(){a.scrollTop=f},0)}},!1);g.appendChild(document.createTextNode(this.VKI_kt));g.appendChild(document.createTextNode(this.VKI_isIElt8?
" \u2193":" \u25be"));g.langCount=0;var l=document.createElement("ol");for(ktype in this.VKI_layout)if("object"==typeof this.VKI_layout[ktype]){this.VKI_layout[ktype].lang||(this.VKI_layout[ktype].lang=[]);for(var b=0;b<this.VKI_layout[ktype].lang.length;b++)this.VKI_langCode[this.VKI_layout[ktype].lang[b].toLowerCase().replace(/-/g,"_")]=ktype;b=document.createElement("li");b.title=this.VKI_layout[ktype].name;f(b,"click",function(c){c=c||event;c.stopPropagation?c.stopPropagation():c.cancelBubble=
!0;this.parentNode.style.display="";a.VKI_kts=a.VKI_kt=g.firstChild.nodeValue=this.firstChild.nodeValue;a.VKI_buildKeys();a.VKI_position(!0)},!1);p(b);b.appendChild(document.createTextNode(ktype));l.appendChild(b);g.langCount++}g.appendChild(l);1<g.langCount&&k.appendChild(g);this.VKI_langCode.index=[];for(prop in this.VKI_langCode)"index"!=prop&&"string"==typeof this.VKI_langCode[prop]&&this.VKI_langCode.index.push(prop);this.VKI_langCode.index.sort();this.VKI_langCode.index.reverse();this.VKI_numberPad&&
(b=document.createElement("span"),b.appendChild(document.createTextNode("#")),b.title=this.VKI_i18n["00"],f(b,"click",function(){s.style.display=!s.style.display?"none":"";a.VKI_position(!0)},!1),p(b),k.appendChild(b));this.VKI_kbsize=function(c){a.VKI_size=Math.min(5,Math.max(1,a.VKI_size));a.VKI_keyboard.className=a.VKI_keyboard.className.replace(/ ?keyboardInputSize\d ?/,"");2!=a.VKI_size&&(a.VKI_keyboard.className+=" keyboardInputSize"+a.VKI_size);a.VKI_position(!0);a.VKI_isOpera&&a.VKI_keyboard.reflow()};
this.VKI_sizeAdj&&(b=document.createElement("small"),b.title=this.VKI_i18n["10"],f(b,"click",function(){--a.VKI_size;a.VKI_kbsize()},!1),p(b),b.appendChild(document.createTextNode(this.VKI_isIElt8?"\u2193":"\u21d3")),k.appendChild(b),b=document.createElement("big"),b.title=this.VKI_i18n["11"],f(b,"click",function(){++a.VKI_size;a.VKI_kbsize()},!1),p(b),b.appendChild(document.createTextNode(this.VKI_isIElt8?"\u2191":"\u21d1")),k.appendChild(b));b=document.createElement("span");b.appendChild(document.createTextNode(this.VKI_i18n["07"]));
b.title=this.VKI_i18n["08"];f(b,"click",function(){a.VKI_target.value="";a.VKI_target.focus();return!1},!1);p(b);k.appendChild(b);b=document.createElement("strong");b.appendChild(document.createTextNode("X"));b.title=this.VKI_i18n["06"];f(b,"click",function(){a.VKI_close()},!1);p(b);k.appendChild(b);r.appendChild(k);u.appendChild(r);this.VKI_keyboard.appendChild(u);u=document.createElement("tbody");r=document.createElement("tr");b=document.createElement("td");k=document.createElement("div");if(this.VKI_deadBox){var l=
document.createElement("label"),h=document.createElement("input");h.type="checkbox";h.title=this.VKI_i18n["03"]+": "+(this.VKI_deadkeysOn?this.VKI_i18n["04"]:this.VKI_i18n["05"]);h.defaultChecked=this.VKI_deadkeysOn;f(h,"click",function(){this.title=a.VKI_i18n["03"]+": "+(this.checked?a.VKI_i18n["04"]:a.VKI_i18n["05"]);a.VKI_modify("");return!0},!1);l.appendChild(h);h.checked=this.VKI_deadkeysOn;k.appendChild(l);this.VKI_deadkeysOn=h}else this.VKI_deadkeysOn.checked=this.VKI_deadkeysOn;this.VKI_showVersion&&
(l=document.createElement("var"),l.title=this.VKI_i18n["09"]+" "+this.VKI_version,l.appendChild(document.createTextNode("v"+this.VKI_version)),k.appendChild(l));b.appendChild(k);r.appendChild(b);var s=document.createElement("td");s.id="keyboardInputNumpad";this.VKI_numberPadOn||(s.style.display="none");k=document.createElement("table");k.cellSpacing="0";l=document.createElement("tbody");for(b=0;b<this.VKI_numpad.length;b++){for(var h=document.createElement("tr"),x=0;x<this.VKI_numpad[b].length;x++){var v=
document.createElement("td");f(v,"click",y,!1);p(v);v.appendChild(document.createTextNode(this.VKI_numpad[b][x]));h.appendChild(v)}l.appendChild(h)}k.appendChild(l);s.appendChild(k);r.appendChild(s);u.appendChild(r);this.VKI_keyboard.appendChild(u);this.VKI_isIE6&&(this.VKI_iframe=document.createElement("iframe"),this.VKI_iframe.style.position="absolute",this.VKI_iframe.style.border="0px none",this.VKI_iframe.style.filter="mask()",this.VKI_iframe.style.zIndex="999999",this.VKI_iframe.src=this.VKI_imageURI);
this.VKI_buildKeys=function(){this.VKI_shift=this.VKI_shiftlock=this.VKI_altgr=this.VKI_altgrlock=this.VKI_dead=!1;for(var c=this.VKI_keyboard.tBodies[0].getElementsByTagName("div")[0],d=c.getElementsByTagName("table"),b=d.length-1;0<=b;b--)c.removeChild(d[b]);for(var b=0,d=!1,t;t=this.VKI_layout[this.VKI_kt].keys[b++];){var e=document.createElement("table");e.cellSpacing="0";t.length<=this.VKI_keyCenter&&(e.className="keyboardInputCenter");for(var z=document.createElement("tbody"),A=document.createElement("tr"),
k=0,m;m=t[k++];){var n=document.createElement("td");if(this.VKI_symbol[m[0]]){var g=this.VKI_symbol[m[0]].split("\n"),l=document.createElement("small");l.setAttribute("char",m[0]);for(var h=0;h<g.length;h++)h&&l.appendChild(document.createElement("br")),l.appendChild(document.createTextNode(g[h]));n.appendChild(l)}else n.appendChild(document.createTextNode(m[0]||"\u00a0"));g=[];if(this.VKI_deadkeysOn.checked)for(key in this.VKI_deadkey)if(key===m[0]){g.push("deadkey");break}t.length>this.VKI_keyCenter&&
k==t.length&&g.push("last");(" "==m[0]||" "==m[1])&&g.push("space");n.className=g.join(" ");switch(m[1]){case "Caps":case "Shift":case "Alt":case "AltGr":case "AltLk":f(n,"click",function(c){return function(){a.VKI_modify(c);return!1}}(m[1]),!1);break;case "Tab":f(n,"click",function(){if(a.VKI_activeTab)if(a.VKI_target.form){var c=a.VKI_target,d=c.form.elements;a.VKI_close();for(var b=0,e=!1,f=-1;b<d.length;b++)if(-1==f&&d[b].getAttribute("VKI_attached")&&(f=b),e){if(1==a.VKI_activeTab&&d[b])break;
if(d[b].getAttribute("VKI_attached"))break}else d[b]==c&&(e=!0);b==d.length&&(b=Math.max(f,0));d[b].getAttribute("VKI_attached")?a.VKI_show(d[b]):d[b].focus()}else a.VKI_target.focus();else a.VKI_insert("\t");return!1},!1);break;case "Bksp":f(n,"click",function(){a.VKI_target.focus();if(a.VKI_target.setSelectionRange&&!a.VKI_target.readOnly){var c=[a.VKI_target.selectionStart,a.VKI_target.selectionEnd];c[0]<c[1]&&c[0]++;a.VKI_target.value=a.VKI_target.value.substr(0,c[0]-1)+a.VKI_target.value.substr(c[1]);
a.VKI_target.setSelectionRange(c[0]-1,c[0]-1)}else if(a.VKI_target.createTextRange&&!a.VKI_target.readOnly){try{a.VKI_target.range.select()}catch(d){a.VKI_target.range=document.selection.createRange()}a.VKI_target.range.text.length||a.VKI_target.range.moveStart("character",-1);a.VKI_target.range.text=""}else a.VKI_target.value=a.VKI_target.value.substr(0,a.VKI_target.value.length-1);a.VKI_shift&&a.VKI_modify("Shift");a.VKI_altgr&&a.VKI_modify("AltGr");a.VKI_target.focus();return!0},!1);break;case "Enter":f(n,
"click",function(){if("TEXTAREA"!=a.VKI_target.nodeName){if(a.VKI_enterSubmit&&a.VKI_target.form){for(var c=0,d=!1;c<a.VKI_target.form.elements.length;c++)"submit"==a.VKI_target.form.elements[c].type&&(d=!0);d||a.VKI_target.form.submit()}a.VKI_close()}else a.VKI_insert("\n");return!0},!1);break;default:f(n,"click",y,!1)}p(n);A.appendChild(n);for(h=0;4>h;h++)if(this.VKI_deadkey[m[h]=m[h]||""])d=!0}z.appendChild(A);e.appendChild(z);c.appendChild(e)}this.VKI_deadBox&&(this.VKI_deadkeysOn.style.display=
d?"inline":"none");this.VKI_isIE6&&(this.VKI_iframe.style.width=this.VKI_keyboard.offsetWidth+"px",this.VKI_iframe.style.height=this.VKI_keyboard.offsetHeight+"px")};this.VKI_buildKeys();f(this.VKI_keyboard,"selectstart",function(){return!1},!1);this.VKI_keyboard.unselectable="on";this.VKI_isOpera&&f(this.VKI_keyboard,"mousedown",function(){return!1},!1);this.VKI_modify=function(a){switch(a){case "Alt":case "AltGr":this.VKI_altgr=!this.VKI_altgr;break;case "AltLk":this.VKI_altgr=0;this.VKI_altgrlock=
!this.VKI_altgrlock;break;case "Caps":this.VKI_shift=0;this.VKI_shiftlock=!this.VKI_shiftlock;break;case "Shift":this.VKI_shift=!this.VKI_shift}var d=0;!this.VKI_shift!=!this.VKI_shiftlock&&(d+=1);!this.VKI_altgr!=!this.VKI_altgrlock&&(d+=2);for(var b=this.VKI_keyboard.tBodies[0].getElementsByTagName("div")[0].getElementsByTagName("table"),f=0;f<b.length;f++)for(var e=b[f].getElementsByTagName("td"),g=0;g<e.length;g++){var h=[],k=this.VKI_layout[this.VKI_kt].keys[f][g];switch(k[1]){case "Alt":case "AltGr":this.VKI_altgr&&
h.push("pressed");break;case "AltLk":this.VKI_altgrlock&&h.push("pressed");break;case "Shift":this.VKI_shift&&h.push("pressed");break;case "Caps":this.VKI_shiftlock&&h.push("pressed");break;case "Tab":case "Enter":case "Bksp":break;default:if(a)if(e[g].removeChild(e[g].firstChild),this.VKI_symbol[k[d]]){var m=this.VKI_symbol[k[d]].split("\n"),n=document.createElement("small");n.setAttribute("char",k[d]);for(var l=0;l<m.length;l++)l&&n.appendChild(document.createElement("br")),n.appendChild(document.createTextNode(m[l]));
e[g].appendChild(n)}else e[g].appendChild(document.createTextNode(k[d]||"\u00a0"));this.VKI_deadkeysOn.checked&&(m=e[g].firstChild.nodeValue||e[g].firstChild.className,this.VKI_dead&&(m==this.VKI_dead&&h.push("pressed"),this.VKI_deadkey[this.VKI_dead][m]&&h.push("target")),this.VKI_deadkey[m]&&h.push("deadkey"))}g==e.length-1&&e.length>this.VKI_keyCenter&&h.push("last");(" "==k[0]||" "==k[1])&&h.push("space");e[g].className=h.join(" ")}};this.VKI_insert=function(a){this.VKI_target.focus();this.VKI_target.maxLength&&
(this.VKI_target.maxlength=this.VKI_target.maxLength);if("undefined"==typeof this.VKI_target.maxlength||0>this.VKI_target.maxlength||this.VKI_target.value.length<this.VKI_target.maxlength){if(this.VKI_target.setSelectionRange&&!this.VKI_target.readOnly&&!this.VKI_isIE){var d=[this.VKI_target.selectionStart,this.VKI_target.selectionEnd];this.VKI_target.value=this.VKI_target.value.substr(0,d[0])+a+this.VKI_target.value.substr(d[1]);"\n"==a&&this.VKI_isOpera&&d[0]++;this.VKI_target.setSelectionRange(d[0]+
a.length,d[0]+a.length)}else if(this.VKI_target.createTextRange&&!this.VKI_target.readOnly){try{this.VKI_target.range.select()}catch(b){this.VKI_target.range=document.selection.createRange()}this.VKI_target.range.text=a;this.VKI_target.range.collapse(!0);this.VKI_target.range.select()}else this.VKI_target.value+=a;this.VKI_shift&&this.VKI_modify("Shift");this.VKI_altgr&&this.VKI_modify("AltGr");this.VKI_target.focus()}else this.VKI_target.createTextRange&&this.VKI_target.range&&this.VKI_target.range.select()};
this.VKI_show=function(c){if(this.VKI_target)this.VKI_close();else{this.VKI_target=c;if(this.VKI_langAdapt&&this.VKI_target.lang){c=!1;var d=this.VKI_target.lang.toLowerCase().replace(/-/g,"_"),b=0;for(c=!1;!c&&b<this.VKI_langCode.index.length;b++)0==d.indexOf(this.VKI_langCode.index[b])&&(c=g.firstChild.nodeValue=this.VKI_kt=this.VKI_langCode[this.VKI_langCode.index[b]]);c&&this.VKI_buildKeys()}this.VKI_isIE&&(this.VKI_target.range||(this.VKI_target.range=this.VKI_target.createTextRange(),this.VKI_target.range.moveStart("character",
this.VKI_target.value.length)),this.VKI_target.range.select());try{this.VKI_keyboard.parentNode.removeChild(this.VKI_keyboard)}catch(f){}this.VKI_clearPasswords&&"password"==this.VKI_target.type&&(this.VKI_target.value="");c=this.VKI_target;this.VKI_target.keyboardPosition="absolute";do{if(c.currentStyle)var e=c.currentStyle.position;else window.getComputedStyle&&(e=window.getComputedStyle(c,null).position);if("fixed"==e){this.VKI_target.keyboardPosition="fixed";break}}while(c=c.offsetParent);this.VKI_isIE6&&
document.body.appendChild(this.VKI_iframe);document.body.appendChild(this.VKI_keyboard);this.VKI_keyboard.style.position=this.VKI_target.keyboardPosition;this.VKI_isOpera&&this.VKI_keyboard.reflow();this.VKI_position(!0);(a.VKI_isMoz||a.VKI_isWebKit)&&this.VKI_position(!0);this.VKI_target.blur();this.VKI_target.focus()}};this.VKI_position=function(c){if(a.VKI_target){var b=w(a.VKI_keyboard),g=a.innerHeight?[a.innerWidth,a.innerHeight]:document.documentElement&&document.documentElement.clientHeight?
[document.documentElement.clientWidth,document.documentElement.clientHeight]:document.body?[document.body.clientWidth,document.body.clientHeight]:[0,0],h=B(),e=!1,k=a.VKI_target.offsetHeight+3;!0!==c&&(0<b[1]+a.VKI_keyboard.offsetHeight-h[1]-g[1]?(e=!0,k=-a.VKI_keyboard.offsetHeight-3):0>b[1]-h[1]&&(e=!0));if(e||!0===c){b=w(a.VKI_target);for(e=a.VKI_target;(e=e.parentNode)&&e!=document.body;)if(e.scrollHeight>e.offsetHeight||e.scrollWidth>e.offsetWidth){e.getAttribute("VKI_scrollListener")||(e.setAttribute("VKI_scrollListener",
!0),f(e,"scroll",function(){a.VKI_position(!0)},!1));var l=w(e),p=b[1]-l[1],m=b[0]-l[0],l=p+a.VKI_target.offsetHeight,n=m+a.VKI_target.offsetWidth,p=e.offsetHeight-p-a.VKI_target.offsetHeight,m=e.offsetWidth-m-a.VKI_target.offsetWidth;a.VKI_keyboard.style.display=0>l||0>n||0>p||0>m?"none":"";a.VKI_isIE6&&(a.VKI_iframe.style.display=0>l||0>n||0>p||0>m?"none":"")}a.VKI_keyboard.style.top=b[1]-("fixed"==a.VKI_target.keyboardPosition&&!a.VKI_isIE&&!a.VKI_isMoz?h[1]:0)+k+"px";a.VKI_keyboard.style.left=
Math.max(10,Math.min(g[0]-a.VKI_keyboard.offsetWidth-25,b[0]))+"px";a.VKI_isIE6&&(a.VKI_iframe.style.width=a.VKI_keyboard.offsetWidth+"px",a.VKI_iframe.style.height=a.VKI_keyboard.offsetHeight+"px",a.VKI_iframe.style.top=a.VKI_keyboard.style.top,a.VKI_iframe.style.left=a.VKI_keyboard.style.left)}!0===c&&a.VKI_position()}};this.VKI_close=VKI_close=function(){if(this.VKI_target){try{this.VKI_keyboard.parentNode.removeChild(this.VKI_keyboard),this.VKI_isIE6&&this.VKI_iframe.parentNode.removeChild(this.VKI_iframe)}catch(b){}this.VKI_kt!=
this.VKI_kts&&(g.firstChild.nodeValue=this.VKI_kt=this.VKI_kts,this.VKI_buildKeys());g.getElementsByTagName("ol")[0].style.display="";this.VKI_target.focus();this.VKI_isIE?setTimeout(function(){a.VKI_target=!1},0):this.VKI_target=!1}};f(window,"resize",this.VKI_position,!1);f(window,"scroll",this.VKI_position,!1);this.VKI_kbsize();f(window,"load",function(){for(var b=[document.getElementsByTagName("input"),document.getElementsByTagName("textarea")],d=0,g;g=b[d++];)for(var h=0,e;e=g[h++];)("TEXTAREA"==
e.nodeName||"text"==e.type||"password"==e.type)&&-1<e.className.indexOf("keyboardInput")&&VKI_attach(e);f(document.documentElement,"click",function(b){a.VKI_close()},!1)},!1)})();
